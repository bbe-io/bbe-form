{"version":3,"file":null,"sources":["../src/inputText.js","../src/select.js","../src/renderless.js","../src/index.js"],"sourcesContent":["export default {\n  name: 'bbe-text-input',\n  template: `\n        <div :class=\"wrapperClass\">\n            <span v-if=\"header\" v-html=\"header\"></span>\n            <label :class=\"labelClass\" :for=\"id\">{{label}}</label>\n            <input\n                ref=\"input\"\n                :disabled=\"disabled\"\n                :id=\"id\" :name=\"name\"\n                :value=\"value\" :type=\"type\"\n                @input=\"change\"\n                :class=\"inputClass\" :placeholder=\"placeholder\"/>\n            <small :class=\"errorClass\"\n                   v-if=\"form.errors.has(name)\"\n                   v-text=\"form.errors.get(name)\"\n            ></small>\n            <span v-if=\"footer\" v-html=\"footer\"></span>\n        </div>\n    `\n  ,\n  props: {\n    form: {\n      type: Object\n    },\n    type: {\n      type: String,\n      default: 'text'\n    },\n    labelClass: {\n      type: String,\n      default: ''\n    },\n    label: {\n      type: String\n    },\n    inputClass: {\n      type: String,\n      default: 'form-control'\n    },\n    id: {\n      type: String,\n      default: ''\n    },\n    name: {\n      type: String,\n      default() {\n        return this.id;\n      }\n    },\n    value: {\n      type: String,\n      required: true\n    },\n    errorClass: {\n      type: String,\n      default: 'form-text text-warning'\n    },\n    placeholder: {\n      type: String,\n      default() {\n        return this.label;\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    header: {\n      type: String\n    },\n    footer: {\n      type: String\n    }\n  },\n  computed: {\n    hasError() {\n      return this.form.errors.has(this.name)\n    },\n    errorMessage() {\n      return this.form.errors.get(this.name)\n    },\n    wrapperClass() {\n      if (!this.$el) {\n        return 'form-group';\n      }\n      return this.$el.classList ? '' : 'form-group';\n    }\n  },\n  methods: {\n    change() {\n      this.$emit('input', this.$refs.input.value)\n    }\n  },\n  mounted() {\n\n  }\n}\n","export default {\n  name: 'bbe-text-input',\n  template: `\n    <div :class=\"wrapperClass\">\n        <label :for=\"id\">{{label}}</label>\n            <select\n                ref=\"select\"\n                :value=\"value\"\n                :id=\"id\" :name=\"name\"\n                @change=\"change\"\n                :class=\"inputClass\"\n            >\n              <option\n                  :value=\"c[optionValueKey]\"\n                  v-for=\"c in options\">\n                  {{ c[optionLabelKey]}}\n              </option>\n            </select>\n            <small :class=\"errorClass\"\n              v-if=\"hasError\"\n                   v-text=\"errorMessage\"\n            ></small>\n        </div>   \n  `,\n  props: {\n    form: {\n      type: Object\n    },\n    options: {\n      type: Array,\n      required: true\n    },\n    optionValueKey: {\n      type: String,\n      default: 'value'\n    },\n    optionLabelKey: {\n      type: String,\n      default: 'label'\n    },\n    labelClass: {\n      type: String,\n      default: ''\n    },\n    label: {\n      type: String\n    },\n    inputClass: {\n      type: String,\n      default: 'form-control'\n    },\n    id: {\n      type: String,\n      default: ''\n    },\n    name: {\n      type: String,\n      default() {\n        return this.id;\n      }\n    },\n    value: {\n      type: String,\n      required: true\n    },\n    errorClass: {\n      type: String,\n      default: 'form-text text-warning'\n    },\n    placeholder: {\n      type: String,\n      default() {\n        return this.label;\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    hasError() {\n      return this.form.errors.has(this.name)\n    },\n    errorMessage() {\n      return this.form.errors.get(this.name)\n    },\n    wrapperClass() {\n      if (!this.$el) {\n        return 'form-group';\n      }\n      return this.$el.classList ? '' : 'form-group';\n    }\n  },\n  methods: {\n    change(event) {\n      this.$emit('input',event.target.value)\n    }\n  },\n  mounted() {\n\n  }\n}\n","export default {\n  name: 'bbe-renderless',\n  template: `\n        <div :class=\"wrapperClass\">\n            <slot :value=\"value\" :change=\"change\">\n            \n            </slot>\n            <small :class=\"errorClass\"\n                   v-if=\"form.errors.has(name)\"\n                   v-text=\"form.errors.get(name)\"\n            ></small>\n        </div>\n    `\n  ,\n  props: {\n    form: {\n      type: Object\n    },\n    type: {\n      type: String,\n      default: 'text'\n    },\n    labelClass: {\n      type: String,\n      default: ''\n    },\n    label: {\n      type: String\n    },\n    inputClass: {\n      type: String,\n      default: 'form-control'\n    },\n    id: {\n      type: String,\n      default: ''\n    },\n    name: {\n      type: String,\n      default() {\n        return this.id;\n      }\n    },\n    value: {\n      required: true\n    },\n    errorClass: {\n      type: String,\n      default: 'form-text text-warning'\n    },\n    placeholder: {\n      type: String,\n      default() {\n        return this.label;\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    hasError() {\n      return this.form.errors.has(this.name)\n    },\n    errorMessage() {\n      return this.form.errors.get(this.name)\n    },\n    wrapperClass() {\n      if (!this.$el) {\n        return 'form-group';\n      }\n      return this.$el.classList ? '' : 'form-group';\n    },\n    hasChecked() {\n      return this.type === 'checkbox'\n    }\n  },\n  methods: {\n    change(event) {\n      this.$emit('input', this.hasChecked ? event.target.checked : event.target.value)\n    }\n  },\n  mounted() {\n\n  }\n}\n","import axios from 'axios';\n\nclass Form {\n  constructor(data) {\n    this.originalData = data;\n\n    for (let field in data) {\n      this[field] = data[field];\n    }\n    this.errors = new Errors();\n  }\n\n  data() {\n    let data = {};\n\n    for (let field in this.originalData) {\n      data[field] = this[field];\n    }\n\n    return data;\n  }\n\n  reset() {\n    for (let field in this.originalData) {\n      this[field] = '';\n    }\n  }\n\n  submit(requestType, url) {\n    return new Promise((resolve, reject) => {\n      axios[requestType](url, this.data())\n        .then(response => {\n          this.onSuccess.bind(this);\n          resolve(response.data);\n        })\n        .catch(error => {\n          this.onFail(error);\n          reject(error.response.data);\n        })\n    })\n\n  }\n\n  onSuccess(response) {\n    this.reset();\n  }\n\n  onFail(error) {\n    this.errors.record(error.response.data)\n  }\n};\n\nclass Errors {\n  constructor() {\n    this.errors = {};\n    this.message = {};\n  }\n\n  any() {\n    return Object.keys(this.errors).length > 0\n  }\n\n  has(field) {\n    return this.errors.hasOwnProperty(field);\n  }\n\n  get(field) {\n    if (!this.errors[field]) {\n      return;\n    }\n    return this.errors[field][0];\n  }\n\n  clear(field) {\n    if (!field) {\n      this.errors = {};\n    } else {\n      delete this.errors[field];\n    }\n  }\n\n  record(errors) {\n    if (errors.errors) {\n      this.errors = errors.errors;\n    }\n    if (errors.message) {\n      this.message = errors.message;\n    }\n  }\n};\n\nimport textInput from './inputText';\nimport select from './select';\nimport renderless from './renderless';\n\nexport {\n  Form,\n  Errors,\n  textInput,\n  select,\n  renderless\n};\n\nexport default Form;\n"],"names":["Object","String","id","label","Boolean","form","errors","has","name","get","$el","classList","$emit","$refs","input","value","Array","event","target","type","hasChecked","checked","Form","data","originalData","field","Errors","requestType","url","resolve","reject","then","onSuccess","bind","response","catch","onFail","error","reset","record","message","length","hasOwnProperty"],"mappings":"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"}